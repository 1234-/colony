<h1>bash.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> BASH_LITERAL = <span class="string">'true false'</span>;
  <span class="keyword">var</span> VAR1 = {
    className: <span class="string">'variable'</span>, begin: <span class="string">'\\$[a-zA-Z0-9_]+\\b'</span>
  };
  <span class="keyword">var</span> VAR2 = {
    className: <span class="string">'variable'</span>, begin: <span class="string">'\\${([^}]|\\\\})+}'</span>
  };
  <span class="keyword">var</span> QUOTE_STRING = {
    className: <span class="string">'string'</span>,
    begin: <span class="string">'"'</span>, end: <span class="string">'"'</span>,
    illegal: <span class="string">'\\n'</span>,
    contains: [hljs.BACKSLASH_ESCAPE, VAR1, VAR2],
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> APOS_STRING = {
    className: <span class="string">'string'</span>,
    begin: <span class="string">'\''</span>, end: <span class="string">'\''</span>,
    contains: [{begin: <span class="string">'\'\''</span>}],
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> TEST_CONDITION = {
    className: <span class="string">'test_condition'</span>,
    begin: <span class="string">''</span>, end: <span class="string">''</span>,
    contains: [QUOTE_STRING, APOS_STRING, VAR1, VAR2],
    keywords: {
      literal: BASH_LITERAL
    },
    relevance: <span class="number">0</span>
  };

  <span class="keyword">return</span> {
    keywords: {
      keyword: <span class="string">'if then else fi for break continue while in do done echo exit return set declare'</span>,
      literal: BASH_LITERAL
    },
    contains: [
      {
        className: <span class="string">'shebang'</span>,
        begin: <span class="string">'(#!\\/bin\\/bash)|(#!\\/bin\\/sh)'</span>,
        relevance: <span class="number">10</span>
      },
      VAR1,
      VAR2,
      hljs.HASH_COMMENT_MODE,
      QUOTE_STRING,
      APOS_STRING,
      hljs.inherit(TEST_CONDITION, {begin: <span class="string">'\\[ '</span>, end: <span class="string">' \\]'</span>, relevance: <span class="number">0</span>}),
      hljs.inherit(TEST_CONDITION, {begin: <span class="string">'\\[\\[ '</span>, end: <span class="string">' \\]\\]'</span>})
    ]
  };
};</code></pre>