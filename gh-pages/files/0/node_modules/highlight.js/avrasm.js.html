<h1>avrasm.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">return</span> {
    case_insensitive: <span class="literal">true</span>,
    keywords: {
      keyword:
        <span class="comment">/* mnemonic */</span>
        <span class="string">'adc add adiw and andi asr bclr bld brbc brbs brcc brcs break breq brge brhc brhs '</span> +
        <span class="string">'brid brie brlo brlt brmi brne brpl brsh brtc brts brvc brvs bset bst call cbi cbr '</span> +
        <span class="string">'clc clh cli cln clr cls clt clv clz com cp cpc cpi cpse dec eicall eijmp elpm eor '</span> +
        <span class="string">'fmul fmuls fmulsu icall ijmp in inc jmp ld ldd ldi lds lpm lsl lsr mov movw mul '</span> +
        <span class="string">'muls mulsu neg nop or ori out pop push rcall ret reti rjmp rol ror sbc sbr sbrc sbrs '</span> +
        <span class="string">'sec seh sbi sbci sbic sbis sbiw sei sen ser ses set sev sez sleep spm st std sts sub '</span> +
        <span class="string">'subi swap tst wdr'</span>,
      built_in:
        <span class="comment">/* general purpose registers */</span>
        <span class="string">'r0 r1 r2 r3 r4 r5 r6 r7 r8 r9 r10 r11 r12 r13 r14 r15 r16 r17 r18 r19 r20 r21 r22 '</span> +
        <span class="string">'r23 r24 r25 r26 r27 r28 r29 r30 r31 x|0 xh xl y|0 yh yl z|0 zh zl '</span> +
        <span class="comment">/* IO Registers (ATMega128) */</span>
        <span class="string">'ucsr1c udr1 ucsr1a ucsr1b ubrr1l ubrr1h ucsr0c ubrr0h tccr3c tccr3a tccr3b tcnt3h '</span> +
        <span class="string">'tcnt3l ocr3ah ocr3al ocr3bh ocr3bl ocr3ch ocr3cl icr3h icr3l etimsk etifr tccr1c '</span> +
        <span class="string">'ocr1ch ocr1cl twcr twdr twar twsr twbr osccal xmcra xmcrb eicra spmcsr spmcr portg '</span> +
        <span class="string">'ddrg ping portf ddrf sreg sph spl xdiv rampz eicrb eimsk gimsk gicr eifr gifr timsk '</span> +
        <span class="string">'tifr mcucr mcucsr tccr0 tcnt0 ocr0 assr tccr1a tccr1b tcnt1h tcnt1l ocr1ah ocr1al '</span> +
        <span class="string">'ocr1bh ocr1bl icr1h icr1l tccr2 tcnt2 ocr2 ocdr wdtcr sfior eearh eearl eedr eecr '</span> +
        <span class="string">'porta ddra pina portb ddrb pinb portc ddrc pinc portd ddrd pind spdr spsr spcr udr0 '</span> +
        <span class="string">'ucsr0a ucsr0b ubrr0l acsr admux adcsr adch adcl porte ddre pine pinf'</span>
    },
    contains: [
      hljs.C_BLOCK_COMMENT_MODE,
      {className: <span class="string">'comment'</span>, begin: <span class="string">';'</span>,  end: <span class="string">'$'</span>},
      hljs.C_NUMBER_MODE, <span class="comment">// 0x..., decimal, float</span>
      hljs.BINARY_NUMBER_MODE, <span class="comment">// 0b...</span>
      {
        className: <span class="string">'number'</span>,
        begin: <span class="string">'\\b(\\$[a-zA-Z0-9]+|0o[0-7]+)'</span> <span class="comment">// $..., 0o...</span>
      },
      hljs.QUOTE_STRING_MODE,
      {
        className: <span class="string">'string'</span>,
        begin: <span class="string">'\''</span>, end: <span class="string">'[^\\\\]\''</span>,
        illegal: <span class="string">'[^\\\\][^\']'</span>
      },
      {className: <span class="string">'label'</span>,  begin: <span class="string">'^[A-Za-z0-9_.$]+:'</span>},
      {className: <span class="string">'preprocessor'</span>, begin: <span class="string">'#'</span>, end: <span class="string">'$'</span>},
      {  <span class="comment">// директивы «.include» «.macro» и т.д.</span>
        className: <span class="string">'preprocessor'</span>,
        begin: <span class="string">'\\.[a-zA-Z]+'</span>
      },
      {  <span class="comment">// подстановка в «.macro»</span>
        className: <span class="string">'localvars'</span>,
        begin: <span class="string">'@[0-9]+'</span>
      }
    ]
  };
};</code></pre>