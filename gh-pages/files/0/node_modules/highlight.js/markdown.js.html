<h1>markdown.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">return</span> {
    case_insensitive: <span class="literal">true</span>,
    contains: [
      <span class="comment">// highlight headers</span>
      {
        className: <span class="string">'header'</span>,
        begin: <span class="string">'^#{1,3}'</span>, end: <span class="string">'$'</span>
      },
      {
        className: <span class="string">'header'</span>,
        begin: <span class="string">'^.+?\\n[=-]{2,}$'</span>
      },
      <span class="comment">// inline html</span>
      {
        begin: <span class="string">'&lt;'</span>, end: <span class="string">'>'</span>,
        subLanguage: <span class="string">'xml'</span>,
        relevance: <span class="number">0</span>
      },
      <span class="comment">// lists (indicators only)</span>
      {
        className: <span class="string">'bullet'</span>,
        begin: <span class="string">'^([*+-]|(\\d+\\.))\\s+'</span>
      },
      <span class="comment">// strong segments</span>
      {
        className: <span class="string">'strong'</span>,
        begin: <span class="string">'[*_]{2}.+?[*_]{2}'</span>
      },
      <span class="comment">// emphasis segments</span>
      {
        className: <span class="string">'emphasis'</span>,
        begin: <span class="string">'\\*.+?\\*'</span>
      },
      {
        className: <span class="string">'emphasis'</span>,
        begin: <span class="string">'_.+?_'</span>,
        relevance: <span class="number">0</span>
      },
      <span class="comment">// blockquotes</span>
      {
        className: <span class="string">'blockquote'</span>,
        begin: <span class="string">'^>\\s+'</span>, end: <span class="string">'$'</span>
      },
      <span class="comment">// code snippets</span>
      {
        className: <span class="string">'code'</span>,
        begin: <span class="string">'`.+?`'</span>
      },
      {
        className: <span class="string">'code'</span>,
        begin: <span class="string">'^    '</span>, end: <span class="string">'$'</span>,
        relevance: <span class="number">0</span>
      },
      <span class="comment">// horizontal rules</span>
      {
        className: <span class="string">'horizontal_rule'</span>,
        begin: <span class="string">'^-{3,}'</span>, end: <span class="string">'$'</span>
      },
      <span class="comment">// using links - title and link</span>
      {
        begin: <span class="string">'\\[.+?\\]\\(.+?\\)'</span>,
        returnBegin: <span class="literal">true</span>,
        contains: [
          {
            className: <span class="string">'link_label'</span>,
            begin: <span class="string">'\\[.+\\]'</span>
          },
          {
            className: <span class="string">'link_url'</span>,
            begin: <span class="string">'\\('</span>, end: <span class="string">'\\)'</span>,
            excludeBegin: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>
          }
        ]
      }
    ]
  };
};</code></pre>