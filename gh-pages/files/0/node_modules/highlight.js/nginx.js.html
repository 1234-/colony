<h1>nginx.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> VARS = [
    {
      className: <span class="string">'variable'</span>, begin: <span class="string">'\\$\\d+'</span>
    },
    {
      className: <span class="string">'variable'</span>, begin: <span class="string">'\\${'</span>, end: <span class="string">'}'</span>
    },
    {
      className: <span class="string">'variable'</span>, begin: <span class="string">'[\\$\\@]'</span> + hljs.UNDERSCORE_IDENT_RE
    }
  ];
  <span class="keyword">var</span> DEFAULT = {
    endsWithParent: <span class="literal">true</span>,
    lexems: <span class="string">'[a-z/_]+'</span>,
    keywords: {
      built_in:
        <span class="string">'on off yes no true false none blocked debug info notice warn error crit '</span> +
        <span class="string">'select break last permanent redirect kqueue rtsig epoll poll /dev/poll'</span>
    },
    relevance: <span class="number">0</span>,
    illegal: <span class="string">'=>'</span>,
    contains: [
      hljs.HASH_COMMENT_MODE,
      {
        className: <span class="string">'string'</span>,
        begin: <span class="string">'"'</span>, end: <span class="string">'"'</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS),
        relevance: <span class="number">0</span>
      },
      {
        className: <span class="string">'string'</span>,
        begin: <span class="string">"'"</span>, end: <span class="string">"'"</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS),
        relevance: <span class="number">0</span>
      },
      {
        className: <span class="string">'url'</span>,
        begin: <span class="string">'([a-z]+):/'</span>, end: <span class="string">'\\s'</span>, endsWithParent: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>
      },
      {
        className: <span class="string">'regexp'</span>,
        begin: <span class="string">"\\s\\^"</span>, end: <span class="string">"\\s|{|;"</span>, returnEnd: <span class="literal">true</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS)
      },
      <span class="comment">// regexp locations (~, ~*)</span>
      {
        className: <span class="string">'regexp'</span>,
        begin: <span class="string">"~\\*?\\s+"</span>, end: <span class="string">"\\s|{|;"</span>, returnEnd: <span class="literal">true</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS)
      },
      <span class="comment">// *.example.com</span>
      {
        className: <span class="string">'regexp'</span>,
        begin: <span class="string">"\\*(\\.[a-z\\-]+)+"</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS)
      },
      <span class="comment">// sub.example.*</span>
      {
        className: <span class="string">'regexp'</span>,
        begin: <span class="string">"([a-z\\-]+\\.)+\\*"</span>,
        contains: [hljs.BACKSLASH_ESCAPE].concat(VARS)
      },
      <span class="comment">// IP</span>
      {
        className: <span class="string">'number'</span>,
        begin: <span class="string">'\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b'</span>
      },
      <span class="comment">// units</span>
      {
        className: <span class="string">'number'</span>,
        begin: <span class="string">'\\b\\d+[kKmMgGdshdwy]*\\b'</span>,
        relevance: <span class="number">0</span>
      }
    ].concat(VARS)
  };

  <span class="keyword">return</span> {
    contains: [
      hljs.HASH_COMMENT_MODE,
      {
        begin: hljs.UNDERSCORE_IDENT_RE + <span class="string">'\\s'</span>, end: <span class="string">';|{'</span>, returnBegin: <span class="literal">true</span>,
        contains: [
          {
            className: <span class="string">'title'</span>,
            begin: hljs.UNDERSCORE_IDENT_RE,
            starts: DEFAULT
          }
        ]
      }
    ],
    illegal: <span class="string">'[^\\s\\}]'</span>
  };
};</code></pre>