<h1>CSSMediaRule.js</h1>
<pre><code class="lang-js"><span class="comment">//.CommonJS</span>
<span class="keyword">var</span> CSSOM = {
	CSSRule: require(<span class="string">"./CSSRule"</span>).CSSRule,
	MediaList: require(<span class="string">"./MediaList"</span>).MediaList
};
<span class="comment">///CommonJS</span>


<span class="comment">/**
 * @constructor
 * @see http://dev.w3.org/csswg/cssom/#cssmediarule
 * @see http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSMediaRule
 */</span>
CSSOM.CSSMediaRule = <span class="function"><span class="keyword">function</span> <span class="title">CSSMediaRule</span><span class="params">()</span> {</span>
	CSSOM.CSSRule.call(<span class="keyword">this</span>);
	<span class="keyword">this</span>.media = <span class="keyword">new</span> CSSOM.MediaList;
	<span class="keyword">this</span>.cssRules = [];
};

CSSOM.CSSMediaRule.prototype = <span class="keyword">new</span> CSSOM.CSSRule;
CSSOM.CSSMediaRule.prototype.constructor = CSSOM.CSSMediaRule;
CSSOM.CSSMediaRule.prototype.type = <span class="number">4</span>;
<span class="comment">//FIXME</span>
<span class="comment">//CSSOM.CSSMediaRule.prototype.insertRule = CSSStyleSheet.prototype.insertRule;</span>
<span class="comment">//CSSOM.CSSMediaRule.prototype.deleteRule = CSSStyleSheet.prototype.deleteRule;</span>

<span class="comment">// http://opensource.apple.com/source/WebCore/WebCore-658.28/css/CSSMediaRule.cpp</span>
CSSOM.CSSMediaRule.prototype.__defineGetter__(<span class="string">"cssText"</span>, <span class="keyword">function</span>() {
	<span class="keyword">var</span> cssTexts = [];
	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>, length=<span class="keyword">this</span>.cssRules.length; i &lt; length; i++) {
		cssTexts.push(<span class="keyword">this</span>.cssRules[i].cssText);
	}
	<span class="keyword">return</span> <span class="string">"@media "</span> + <span class="keyword">this</span>.media.mediaText + <span class="string">" {"</span> + cssTexts.join(<span class="string">""</span>) + <span class="string">"}"</span>;
});


<span class="comment">//.CommonJS</span>
exports.CSSMediaRule = CSSOM.CSSMediaRule;
<span class="comment">///CommonJS</span>
</code></pre>