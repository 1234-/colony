<h1>uuid.js</h1>
<pre><code class="lang-js">module.exports = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
  <span class="keyword">var</span> s = [], itoh = <span class="string">'0123456789ABCDEF'</span>;
 
  <span class="comment">// Make array of random hex digits. The UUID only has 32 digits in it, but we</span>
  <span class="comment">// allocate an extra items to make room for the '-'s we'll be inserting.</span>
  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">36</span>; i++) s[i] = Math.floor(Math.random()*<span class="number">0x10</span>);
 
  <span class="comment">// Conform to RFC-4122, section 4.4</span>
  s[<span class="number">14</span>] = <span class="number">4</span>;  <span class="comment">// Set 4 high bits of time_high field to version</span>
  s[<span class="number">19</span>] = (s[<span class="number">19</span>] &amp; <span class="number">0x3</span>) | <span class="number">0x8</span>;  <span class="comment">// Specify 2 high bits of clock sequence</span>
 
  <span class="comment">// Convert to hex chars</span>
  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">36</span>; i++) s[i] = itoh[s[i]];
 
  <span class="comment">// Insert '-'s</span>
  s[<span class="number">8</span>] = s[<span class="number">13</span>] = s[<span class="number">18</span>] = s[<span class="number">23</span>] = <span class="string">'-'</span>;
 
  <span class="keyword">return</span> s.join(<span class="string">''</span>);
}
</code></pre>