<h1>debounce</h1>
<pre><code class="lang-js"><span class="comment">/**
 * Debounces a function by the given threshold.
 *
 * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 * @param {Function} function to wrap
 * @param {Number} timeout in ms (`100`)
 * @param {Boolean} whether to execute at the beginning (`false`)
 * @api public
 */</span>

module.exports = <span class="function"><span class="keyword">function</span> <span class="title">debounce</span><span class="params">(func, threshold, execAsap)</span>{</span>
  <span class="keyword">var</span> timeout;

  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">debounced</span><span class="params">()</span>{</span>
    <span class="keyword">var</span> obj = <span class="keyword">this</span>, args = arguments;

    <span class="function"><span class="keyword">function</span> <span class="title">delayed</span> <span class="params">()</span> {</span>
      <span class="keyword">if</span> (!execAsap) {
        func.apply(obj, args);
      }
      timeout = <span class="literal">null</span>;
    };

    <span class="keyword">if</span> (timeout) {
      clearTimeout(timeout);
    } <span class="keyword">else</span> <span class="keyword">if</span> (execAsap) {
      func.apply(obj, args);
    }

    timeout = setTimeout(delayed, threshold || <span class="number">100</span>);
  };
};
</code></pre>