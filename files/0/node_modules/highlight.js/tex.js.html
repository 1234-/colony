<h1>tex.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> COMMAND1 = {
    className: <span class="string">'command'</span>,
    begin: <span class="string">'\\\\[a-zA-Zа-яА-я]+[\\*]?'</span>
  };
  <span class="keyword">var</span> COMMAND2 = {
    className: <span class="string">'command'</span>,
    begin: <span class="string">'\\\\[^a-zA-Zа-яА-я0-9]'</span>
  };
  <span class="keyword">var</span> SPECIAL = {
    className: <span class="string">'special'</span>,
    begin: <span class="string">'[{}\\[\\]\\&amp;#~]'</span>,
    relevance: <span class="number">0</span>
  };

  <span class="keyword">return</span> {
    contains: [
      { <span class="comment">// parameter</span>
        begin: <span class="string">'\\\\[a-zA-Zа-яА-я]+[\\*]? *= *-?\\d*\\.?\\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?'</span>,
        returnBegin: <span class="literal">true</span>,
        contains: [
          COMMAND1, COMMAND2,
          {
            className: <span class="string">'number'</span>,
            begin: <span class="string">' *='</span>, end: <span class="string">'-?\\d*\\.?\\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?'</span>,
            excludeBegin: <span class="literal">true</span>
          }
        ],
        relevance: <span class="number">10</span>
      },
      COMMAND1, COMMAND2,
      SPECIAL,
      {
        className: <span class="string">'formula'</span>,
        begin: <span class="string">'\\$\\$'</span>, end: <span class="string">'\\$\\$'</span>,
        contains: [COMMAND1, COMMAND2, SPECIAL],
        relevance: <span class="number">0</span>
      },
      {
        className: <span class="string">'formula'</span>,
        begin: <span class="string">'\\$'</span>, end: <span class="string">'\\$'</span>,
        contains: [COMMAND1, COMMAND2, SPECIAL],
        relevance: <span class="number">0</span>
      },
      {
        className: <span class="string">'comment'</span>,
        begin: <span class="string">'%'</span>, end: <span class="string">'$'</span>,
        relevance: <span class="number">0</span>
      }
    ]
  };
};</code></pre>