<h1>clojure.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> keywords = {
    built_in:
      <span class="comment">// Clojure keywords</span>
      <span class="string">'def cond apply if-not if-let if not not= = &amp;lt; &lt; > &amp;lt;= &lt;= >= == + / * - rem '</span>+
      <span class="string">'quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? '</span>+
      <span class="string">'set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? '</span>+
      <span class="string">'class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? '</span>+
      <span class="string">'string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . '</span>+
      <span class="string">'inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last '</span>+
      <span class="string">'drop-while while intern condp case reduced cycle split-at split-with repeat replicate '</span>+
      <span class="string">'iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext '</span>+
      <span class="string">'nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends '</span>+
      <span class="string">'add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler '</span>+
      <span class="string">'set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter '</span>+
      <span class="string">'monitor-exit defmacro defn defn- macroexpand macroexpand-1 for doseq dosync dotimes and or '</span>+
      <span class="string">'when when-not when-let comp juxt partial sequence memoize constantly complement identity assert '</span>+
      <span class="string">'peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast '</span>+
      <span class="string">'sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import '</span>+
      <span class="string">'intern refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! '</span>+
      <span class="string">'assoc! dissoc! pop! disj! import use class type num float double short byte boolean bigint biginteger '</span>+
      <span class="string">'bigdec print-method print-dup throw-if throw printf format load compile get-in update-in pr pr-on newline '</span>+
      <span class="string">'flush read slurp read-line subvec with-open memfn time ns assert re-find re-groups rand-int rand mod locking '</span>+
      <span class="string">'assert-valid-fdecl alias namespace resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! '</span>+
      <span class="string">'reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! '</span>+
      <span class="string">'new next conj set! memfn to-array future future-call into-array aset gen-class reduce merge map filter find empty '</span>+
      <span class="string">'hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list '</span>+
      <span class="string">'disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer '</span>+
      <span class="string">'chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate '</span>+
      <span class="string">'unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta '</span>+
      <span class="string">'lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize'</span>
   };

  <span class="keyword">var</span> CLJ_IDENT_RE = <span class="string">'[a-zA-Z_0-9\\!\\.\\?\\-\\+\\*\\/\\&lt;\\=\\>\\&amp;\\#\\$\';]+'</span>;
  <span class="keyword">var</span> SIMPLE_NUMBER_RE = <span class="string">'[\\s:\\(\\{]+\\d+(\\.\\d+)?'</span>;

  <span class="keyword">var</span> NUMBER = {
    className: <span class="string">'number'</span>, begin: SIMPLE_NUMBER_RE,
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> STRING = {
    className: <span class="string">'string'</span>,
    begin: <span class="string">'"'</span>, end: <span class="string">'"'</span>,
    contains: [hljs.BACKSLASH_ESCAPE],
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> COMMENT = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">';'</span>, end: <span class="string">'$'</span>,
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> COLLECTION = {
    className: <span class="string">'collection'</span>,
    begin: <span class="string">'[\\[\\{]'</span>, end: <span class="string">'[\\]\\}]'</span>
  };
  <span class="keyword">var</span> HINT = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">'\\^'</span> + CLJ_IDENT_RE
  };
  <span class="keyword">var</span> HINT_COL = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">'\\^\\{'</span>, end: <span class="string">'\\}'</span>
  };
  <span class="keyword">var</span> KEY = {
    className: <span class="string">'attribute'</span>,
    begin: <span class="string">'[:]'</span> + CLJ_IDENT_RE
  };
  <span class="keyword">var</span> LIST = {
    className: <span class="string">'list'</span>,
    begin: <span class="string">'\\('</span>, end: <span class="string">'\\)'</span>,
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> BODY = {
    endsWithParent: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>,
    keywords: {literal: <span class="string">'true false nil'</span>},
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> TITLE = {
    keywords: keywords,
    lexems: CLJ_IDENT_RE,
    className: <span class="string">'title'</span>, begin: CLJ_IDENT_RE,
    starts: BODY
  };

  LIST.contains = [{className: <span class="string">'comment'</span>, begin: <span class="string">'comment'</span>}, TITLE];
  BODY.contains = [LIST, STRING, HINT, HINT_COL, COMMENT, KEY, COLLECTION, NUMBER];
  COLLECTION.contains = [LIST, STRING, HINT, COMMENT, KEY, COLLECTION, NUMBER];

  <span class="keyword">return</span> {
    case_insensitive: <span class="literal">true</span>,
    illegal: <span class="string">'\\S'</span>,
    contains: [
      COMMENT,
      LIST
    ]
  }
};</code></pre>