<h1>delphi.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> DELPHI_KEYWORDS = <span class="string">'and safecall cdecl then string exports library not pascal set '</span> +
    <span class="string">'virtual file in array label packed end. index while const raise for to implementation '</span> +
    <span class="string">'with except overload destructor downto finally program exit unit inherited override if '</span> +
    <span class="string">'type until function do begin repeat goto nil far initialization object else var uses '</span> +
    <span class="string">'external resourcestring interface end finalization class asm mod case on shr shl of '</span> +
    <span class="string">'register xorwrite threadvar try record near stored constructor stdcall inline div out or '</span> +
    <span class="string">'procedure'</span>;
  <span class="keyword">var</span> DELPHI_CLASS_KEYWORDS = <span class="string">'safecall stdcall pascal stored const implementation '</span> +
    <span class="string">'finalization except to finally program inherited override then exports string read not '</span> +
    <span class="string">'mod shr try div shl set library message packed index for near overload label downto exit '</span> +
    <span class="string">'public goto interface asm on of constructor or private array unit raise destructor var '</span> +
    <span class="string">'type until function else external with case default record while protected property '</span> +
    <span class="string">'procedure published and cdecl do threadvar file in if end virtual write far out begin '</span> +
    <span class="string">'repeat nil initialization object uses resourcestring class register xorwrite inline static'</span>;
  <span class="keyword">var</span> CURLY_COMMENT =  {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">'{'</span>, end: <span class="string">'}'</span>,
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> PAREN_COMMENT = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">'\\(\\*'</span>, end: <span class="string">'\\*\\)'</span>,
    relevance: <span class="number">10</span>
  };
  <span class="keyword">var</span> STRING = {
    className: <span class="string">'string'</span>,
    begin: <span class="string">'\''</span>, end: <span class="string">'\''</span>,
    contains: [{begin: <span class="string">'\'\''</span>}],
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> CHAR_STRING = {
    className: <span class="string">'string'</span>, begin: <span class="string">'(#\\d+)+'</span>
  };
  <span class="keyword">var</span> FUNCTION = {
    className: <span class="string">'function'</span>,
    beginWithKeyword: <span class="literal">true</span>, end: <span class="string">'[:;]'</span>,
    keywords: <span class="string">'function constructor|10 destructor|10 procedure|10'</span>,
    contains: [
      {
        className: <span class="string">'title'</span>, begin: hljs.IDENT_RE
      },
      {
        className: <span class="string">'params'</span>,
        begin: <span class="string">'\\('</span>, end: <span class="string">'\\)'</span>,
        keywords: DELPHI_KEYWORDS,
        contains: [STRING, CHAR_STRING]
      },
      CURLY_COMMENT, PAREN_COMMENT
    ]
  };
  <span class="keyword">return</span> {
    case_insensitive: <span class="literal">true</span>,
    keywords: DELPHI_KEYWORDS,
    illegal: <span class="string">'("|\\$[G-Zg-z]|\\/\\*|&lt;/)'</span>,
    contains: [
      CURLY_COMMENT, PAREN_COMMENT, hljs.C_LINE_COMMENT_MODE,
      STRING, CHAR_STRING,
      hljs.NUMBER_MODE,
      FUNCTION,
      {
        className: <span class="string">'class'</span>,
        begin: <span class="string">'=\\bclass\\b'</span>, end: <span class="string">'end;'</span>,
        keywords: DELPHI_CLASS_KEYWORDS,
        contains: [
          STRING, CHAR_STRING,
          CURLY_COMMENT, PAREN_COMMENT, hljs.C_LINE_COMMENT_MODE,
          FUNCTION
        ]
      }
    ]
  };
};</code></pre>