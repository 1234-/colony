<h1>perl.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> PERL_KEYWORDS = <span class="string">'getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc '</span> +
    <span class="string">'ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime '</span> +
    <span class="string">'readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qq'</span> +
    <span class="string">'fileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent '</span> +
    <span class="string">'shutdown dump chomp connect getsockname die socketpair close flock exists index shmget'</span> +
    <span class="string">'sub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr '</span> +
    <span class="string">'unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 '</span> +
    <span class="string">'getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline '</span> +
    <span class="string">'endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand '</span> +
    <span class="string">'mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink '</span> +
    <span class="string">'getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr '</span> +
    <span class="string">'untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link '</span> +
    <span class="string">'getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller '</span> +
    <span class="string">'lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and '</span> +
    <span class="string">'sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 '</span> +
    <span class="string">'chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach '</span> +
    <span class="string">'tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedir'</span> +
    <span class="string">'ioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe '</span> +
    <span class="string">'atan2 getgrent exp time push setgrent gt lt or ne m|0'</span>;
  <span class="keyword">var</span> SUBST = {
    className: <span class="string">'subst'</span>,
    begin: <span class="string">'[$@]\\{'</span>, end: <span class="string">'\\}'</span>,
    keywords: PERL_KEYWORDS,
    relevance: <span class="number">10</span>
  };
  <span class="keyword">var</span> VAR1 = {
    className: <span class="string">'variable'</span>,
    begin: <span class="string">'\\$\\d'</span>
  };
  <span class="keyword">var</span> VAR2 = {
    className: <span class="string">'variable'</span>,
    begin: <span class="string">'[\\$\\%\\@\\*](\\^\\w\\b|#\\w+(\\:\\:\\w+)*|[^\\s\\w{]|{\\w+}|\\w+(\\:\\:\\w*)*)'</span>
  };
  <span class="keyword">var</span> STRING_CONTAINS = [hljs.BACKSLASH_ESCAPE, SUBST, VAR1, VAR2];
  <span class="keyword">var</span> METHOD = {
    begin: <span class="string">'->'</span>,
    contains: [
      {begin: hljs.IDENT_RE},
      {begin: <span class="string">'{'</span>, end: <span class="string">'}'</span>}
    ]
  };
  <span class="keyword">var</span> COMMENT = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">'^(__END__|__DATA__)'</span>, end: <span class="string">'\\n$'</span>,
    relevance: <span class="number">5</span>
  }
  <span class="keyword">var</span> PERL_DEFAULT_CONTAINS = [
    VAR1, VAR2,
    hljs.HASH_COMMENT_MODE,
    COMMENT,
    {
      className: <span class="string">'comment'</span>,
      begin: <span class="string">'^\\=\\w'</span>, end: <span class="string">'\\=cut'</span>, endsWithParent: <span class="literal">true</span>
    },
    METHOD,
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'q[qwxr]?\\s*\\('</span>, end: <span class="string">'\\)'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'q[qwxr]?\\s*\\['</span>, end: <span class="string">'\\]'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'q[qwxr]?\\s*\\{'</span>, end: <span class="string">'\\}'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'q[qwxr]?\\s*\\|'</span>, end: <span class="string">'\\|'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'q[qwxr]?\\s*\\&lt;'</span>, end: <span class="string">'\\>'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'qw\\s+q'</span>, end: <span class="string">'q'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'\''</span>, end: <span class="string">'\''</span>,
      contains: [hljs.BACKSLASH_ESCAPE],
      relevance: <span class="number">0</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'"'</span>, end: <span class="string">'"'</span>,
      contains: STRING_CONTAINS,
      relevance: <span class="number">0</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'`'</span>, end: <span class="string">'`'</span>,
      contains: [hljs.BACKSLASH_ESCAPE]
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'{\\w+}'</span>,
      relevance: <span class="number">0</span>
    },
    {
      className: <span class="string">'string'</span>,
      begin: <span class="string">'\-?\\w+\\s*\\=\\>'</span>,
      relevance: <span class="number">0</span>
    },
    {
      className: <span class="string">'number'</span>,
      begin: <span class="string">'(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b'</span>,
      relevance: <span class="number">0</span>
    },
    { <span class="comment">// regexp container</span>
      begin: <span class="string">'('</span> + hljs.RE_STARTERS_RE + <span class="string">'|\\b(split|return|print|reverse|grep)\\b)\\s*'</span>,
      keywords: <span class="string">'split return print reverse grep'</span>,
      relevance: <span class="number">0</span>,
      contains: [
        hljs.HASH_COMMENT_MODE,
        COMMENT,
        {
          className: <span class="string">'regexp'</span>,
          begin: <span class="string">'(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*'</span>,
          relevance: <span class="number">10</span>
        },
        {
          className: <span class="string">'regexp'</span>,
          begin: <span class="string">'(m|qr)?/'</span>, end: <span class="string">'/[a-z]*'</span>,
          contains: [hljs.BACKSLASH_ESCAPE],
          relevance: <span class="number">0</span> <span class="comment">// allows empty "//" which is a common comment delimiter in other languages</span>
        }
      ]
    },
    {
      className: <span class="string">'sub'</span>,
      beginWithKeyword: <span class="literal">true</span>, end: <span class="string">'(\\s*\\(.*?\\))?[;{]'</span>,
      keywords: <span class="string">'sub'</span>,
      relevance: <span class="number">5</span>
    },
    {
      className: <span class="string">'operator'</span>,
      begin: <span class="string">'-\\w\\b'</span>,
      relevance: <span class="number">0</span>
    }
  ];
  SUBST.contains = PERL_DEFAULT_CONTAINS;
  METHOD.contains[<span class="number">1</span>].contains = PERL_DEFAULT_CONTAINS;

  <span class="keyword">return</span> {
    keywords: PERL_KEYWORDS,
    contains: PERL_DEFAULT_CONTAINS
  };
};</code></pre>