<h1>json.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> LITERALS = {literal: <span class="string">'true false null'</span>};
  <span class="keyword">var</span> TYPES = [
    hljs.QUOTE_STRING_MODE,
    hljs.C_NUMBER_MODE
  ];
  <span class="keyword">var</span> VALUE_CONTAINER = {
    className: <span class="string">'value'</span>,
    end: <span class="string">','</span>, endsWithParent: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>,
    contains: TYPES,
    keywords: LITERALS
  };
  <span class="keyword">var</span> OBJECT = {
    begin: <span class="string">'{'</span>, end: <span class="string">'}'</span>,
    contains: [
      {
        className: <span class="string">'attribute'</span>,
        begin: <span class="string">'\\s*"'</span>, end: <span class="string">'"\\s*:\\s*'</span>, excludeBegin: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>,
        contains: [hljs.BACKSLASH_ESCAPE],
        illegal: <span class="string">'\\n'</span>,
        starts: VALUE_CONTAINER
      }
    ],
    illegal: <span class="string">'\\S'</span>
  };
  <span class="keyword">var</span> ARRAY = {
    begin: <span class="string">'\\['</span>, end: <span class="string">'\\]'</span>,
    contains: [hljs.inherit(VALUE_CONTAINER, {className: <span class="literal">null</span>})], <span class="comment">// inherit is also a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents</span>
    illegal: <span class="string">'\\S'</span>
  };
  TYPES.splice(TYPES.length, <span class="number">0</span>, OBJECT, ARRAY);
  <span class="keyword">return</span> {
    contains: TYPES,
    keywords: LITERALS,
    illegal: <span class="string">'\\S'</span>
  };
};</code></pre>