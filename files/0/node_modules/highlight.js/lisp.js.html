<h1>lisp.js</h1>
<pre><code class="lang-js">module.exports = <span class="keyword">function</span>(hljs) {
  <span class="keyword">var</span> LISP_IDENT_RE = <span class="string">'[a-zA-Z_\\-\\+\\*\\/\\&lt;\\=\\>\\&amp;\\#][a-zA-Z0-9_\\-\\+\\*\\/\\&lt;\\=\\>\\&amp;\\#]*'</span>;
  <span class="keyword">var</span> LISP_SIMPLE_NUMBER_RE = <span class="string">'(\\-|\\+)?\\d+(\\.\\d+|\\/\\d+)?((d|e|f|l|s)(\\+|\\-)?\\d+)?'</span>;
  <span class="keyword">var</span> LITERAL = {
    className: <span class="string">'literal'</span>,
    begin: <span class="string">'\\b(t{1}|nil)\\b'</span>
  };
  <span class="keyword">var</span> NUMBERS = [
    {
      className: <span class="string">'number'</span>, begin: LISP_SIMPLE_NUMBER_RE
    },
    {
      className: <span class="string">'number'</span>, begin: <span class="string">'#b[0-1]+(/[0-1]+)?'</span>
    },
    {
      className: <span class="string">'number'</span>, begin: <span class="string">'#o[0-7]+(/[0-7]+)?'</span>
    },
    {
      className: <span class="string">'number'</span>, begin: <span class="string">'#x[0-9a-f]+(/[0-9a-f]+)?'</span>
    },
    {
      className: <span class="string">'number'</span>, begin: <span class="string">'#c\\('</span> + LISP_SIMPLE_NUMBER_RE + <span class="string">' +'</span> + LISP_SIMPLE_NUMBER_RE, end: <span class="string">'\\)'</span>
    }
  ]
  <span class="keyword">var</span> STRING = {
    className: <span class="string">'string'</span>,
    begin: <span class="string">'"'</span>, end: <span class="string">'"'</span>,
    contains: [hljs.BACKSLASH_ESCAPE],
    relevance: <span class="number">0</span>
  };
  <span class="keyword">var</span> COMMENT = {
    className: <span class="string">'comment'</span>,
    begin: <span class="string">';'</span>, end: <span class="string">'$'</span>
  };
  <span class="keyword">var</span> VARIABLE = {
    className: <span class="string">'variable'</span>,
    begin: <span class="string">'\\*'</span>, end: <span class="string">'\\*'</span>
  };
  <span class="keyword">var</span> KEYWORD = {
    className: <span class="string">'keyword'</span>,
    begin: <span class="string">'[:&amp;]'</span> + LISP_IDENT_RE
  };
  <span class="keyword">var</span> QUOTED_LIST = {
    begin: <span class="string">'\\('</span>, end: <span class="string">'\\)'</span>,
    contains: [<span class="string">'self'</span>, LITERAL, STRING].concat(NUMBERS)
  };
  <span class="keyword">var</span> QUOTED1 = {
    className: <span class="string">'quoted'</span>,
    begin: <span class="string">'[\'`]\\('</span>, end: <span class="string">'\\)'</span>,
    contains: NUMBERS.concat([STRING, VARIABLE, KEYWORD, QUOTED_LIST])
  };
  <span class="keyword">var</span> QUOTED2 = {
    className: <span class="string">'quoted'</span>,
    begin: <span class="string">'\\(quote '</span>, end: <span class="string">'\\)'</span>,
    keywords: {title: <span class="string">'quote'</span>},
    contains: NUMBERS.concat([STRING, VARIABLE, KEYWORD, QUOTED_LIST])
  };
  <span class="keyword">var</span> LIST = {
    className: <span class="string">'list'</span>,
    begin: <span class="string">'\\('</span>, end: <span class="string">'\\)'</span>
  };
  <span class="keyword">var</span> BODY = {
    className: <span class="string">'body'</span>,
    endsWithParent: <span class="literal">true</span>, excludeEnd: <span class="literal">true</span>
  };
  LIST.contains = [{className: <span class="string">'title'</span>, begin: LISP_IDENT_RE}, BODY];
  BODY.contains = [QUOTED1, QUOTED2, LIST, LITERAL].concat(NUMBERS).concat([STRING, COMMENT, VARIABLE, KEYWORD]);

  <span class="keyword">return</span> {
    case_insensitive: <span class="literal">true</span>,
    illegal: <span class="string">'[^\\s]'</span>,
    contains: NUMBERS.concat([
      LITERAL,
      STRING,
      COMMENT,
      QUOTED1, QUOTED2,
      LIST
    ])
  };
};</code></pre>